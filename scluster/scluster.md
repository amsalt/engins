# scluster
设计假设：
    一个服务器实例可能会作为客户端连接多个其他服务器实例，也可能会作为多种服务/客户端的服务器处理其他服务/客户端发来的请求。但是对于同一类的服务仅会以客户端或服务器的角色存在，不会同时存在。
    
    比如一个网关服务器Gate会接收客户端发来的请求，同时又会把消息发送给逻辑服Logic，与此同时，逻辑服Logic既可能接收Gate服务器发来的消息，也可能由于广播需求主动向Gate服务器推送消息。
    
    假如实现方案是Gate服务器首先会启动一个Websocket服务器处理客户端请求，同时又启动了一个客户端连接Logic服务器，那么对于逻辑服Logic来说，仅会存在一个服务器实例来接收Gate服务器的请求，同时又会通过这个服务器向Gate服务器主动发送消息，而不是通过再创建一个客户端的方式来连接Gate服务器进行消息的发送。

    这样设计的好处是简化连接模型，同时方便上下文的传递。

    另外由于目前转播服务的设计场景是为了解决网关服务器的消息转发，一般网关服务器会作为客户端主动连接其他服务器，所以转播服务当前仅适用于作为客户端的一端向作为服务器的一端转发，不支持逆向转发。

通信问题解决方案：
    提供了Cluster来代表一个完整的服务器实例：既可能作为服务器接收其他客户端的连接，也可能作为客户端向其他服务器发起请求，同时借助服务发现能够自动维护连接，并借助负载均衡实现自动消息路由（即通过Cluster实例发送消息，会根据消息的类别和关键域自动路由到正确的服务器上）
